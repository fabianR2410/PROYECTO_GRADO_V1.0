# ğŸ“¦ ARCHIVOS DEL PROYECTO

## ğŸ“„ requirements.txt

```txt
# Pipeline ETL
pandas>=2.0.0
numpy>=1.24.0
requests>=2.31.0

# API REST
fastapi>=0.104.0
uvicorn>=0.24.0
pydantic>=2.0.0
python-multipart>=0.0.6

# Dashboard
dash>=2.14.0
plotly>=5.17.0

# Opcionales (para desarrollo)
jupyter>=1.0.0
ipython>=8.12.0
```

---

## ğŸ“„ README.md

```markdown
# ğŸ¦  Sistema Completo de AnÃ¡lisis COVID-19

Sistema profesional end-to-end para anÃ¡lisis de datos COVID-19 con Pipeline ETL, API REST y Dashboard Interactivo.

## ğŸ¯ CaracterÃ­sticas Principales

### âœ… **Pipeline ETL**
- Descarga automÃ¡tica de datos de Our World in Data
- Limpieza avanzada de datos (outliers, duplicados, valores faltantes)
- CreaciÃ³n de mÃ©tricas calculadas (tasas, promedios mÃ³viles)
- ValidaciÃ³n de consistencia y calidad de datos
- CompresiÃ³n optimizada (reducciÃ³n del 80%)

### âœ… **API REST**
- 15+ endpoints especializados
- DocumentaciÃ³n interactiva (Swagger UI + ReDoc)
- Sistema de cachÃ© inteligente
- Rate limiting por IP
- ValidaciÃ³n robusta de datos
- ExportaciÃ³n CSV/JSON

### âœ… **Dashboard Interactivo**
- Mapa mundial coroplÃ©tico
- GrÃ¡ficos de series temporales
- ComparaciÃ³n multi-paÃ­s
- AnÃ¡lisis regional de SudamÃ©rica
- EstadÃ­sticas en tiempo real
- DiseÃ±o profesional y responsive

---

## ğŸš€ InstalaciÃ³n RÃ¡pida

### 1. Instalar Dependencias

```bash
pip install -r requirements.txt
```

### 2. Ejecutar el Pipeline ETL (solo la primera vez)

```bash
python etl_pipeline.py
```

**Tiempo estimado:** 2-5 minutos  
**Archivos generados:**
- `processed_covid.csv.gz` (datos procesados)
- `data_quality_report.json` (reporte de calidad)
- `pipeline_summary.txt` (resumen)

### 3. Iniciar la API REST

```bash
python covid_api.py
```

La API estarÃ¡ disponible en:
- **API**: http://127.0.0.1:8000
- **DocumentaciÃ³n Swagger**: http://127.0.0.1:8000/docs
- **DocumentaciÃ³n ReDoc**: http://127.0.0.1:8000/redoc

### 4. Iniciar el Dashboard

**En otra terminal:**

```bash
python dashboard.py
```

El dashboard estarÃ¡ disponible en:
- **Dashboard**: http://127.0.0.1:8050

---

## ğŸ“Š Estructura del Proyecto

```
proyecto_covid/
â”œâ”€â”€ etl_pipeline.py          # Pipeline de procesamiento de datos
â”œâ”€â”€ covid_api.py             # API REST con FastAPI
â”œâ”€â”€ dashboard.py             # Dashboard interactivo con Dash
â”œâ”€â”€ requirements.txt         # Dependencias del proyecto
â”œâ”€â”€ README.md               # Este archivo
â”‚
â”œâ”€â”€ owid-covid-data.csv     # Datos originales (descargados)
â”œâ”€â”€ processed_covid.csv.gz  # Datos procesados (generados)
â”œâ”€â”€ data_quality_report.json # Reporte de calidad
â”œâ”€â”€ pipeline_summary.txt    # Resumen del pipeline
â”‚
â””â”€â”€ logs/
    â”œâ”€â”€ etl_pipeline.log    # Log del pipeline
    â””â”€â”€ api.log             # Log de la API
```

---

## ğŸ® GuÃ­a de Uso

### **Pipeline ETL**

```bash
# Ejecutar el pipeline
python etl_pipeline.py

# El pipeline:
# 1. Descarga datos automÃ¡ticamente
# 2. Limpia y valida los datos
# 3. Crea mÃ©tricas calculadas
# 4. Genera archivos de salida
```

**ConfiguraciÃ³n disponible en `Config` class:**
- `MIN_DATA_POINTS`: MÃ­nimo de registros por paÃ­s (default: 30)
- `OUTLIER_IQR_FACTOR`: Factor para detecciÃ³n de outliers (default: 3.0)
- `ROLLING_WINDOW`: Ventana para promedios mÃ³viles (default: 7 dÃ­as)

### **API REST**

**Endpoints principales:**

```bash
# Health check
curl http://127.0.0.1:8000/health

# Lista de paÃ­ses
curl http://127.0.0.1:8000/covid/countries

# Resumen de un paÃ­s
curl "http://127.0.0.1:8000/covid/summary?country=Ecuador"

# Serie temporal
curl "http://127.0.0.1:8000/covid/timeseries?country=Ecuador&metric=new_cases"

# ComparaciÃ³n de paÃ­ses
curl "http://127.0.0.1:8000/covid/compare?countries=Ecuador&countries=Peru&metric=new_cases_smoothed"

# Ranking global
curl "http://127.0.0.1:8000/covid/ranking?metric=total_cases&top=10"

# AnÃ¡lisis avanzado
curl "http://127.0.0.1:8000/covid/analyze?country=Ecuador"
```

**CaracterÃ­sticas:**
- CachÃ© automÃ¡tico (TTL: 1 hora)
- Rate limiting: 100 req/min
- CompresiÃ³n GZip
- ValidaciÃ³n con Pydantic

### **Dashboard**

**Controles:**
1. **PaÃ­s Principal**: Selecciona el paÃ­s a analizar
2. **MÃ©trica**: Elige quÃ© dato visualizar (casos, muertes, vacunaciÃ³n)
3. **MÃ©trica del Mapa**: Controla el mapa mundial
4. **Comparar con**: Selecciona paÃ­ses para comparaciÃ³n

**Visualizaciones:**
1. **Tarjetas de EstadÃ­sticas**: Resumen del paÃ­s seleccionado
2. **Mapa Mundial**: VisualizaciÃ³n global interactiva
3. **EvoluciÃ³n Temporal**: Serie temporal del paÃ­s
4. **ComparaciÃ³n Multi-PaÃ­s**: Hasta 10 paÃ­ses simultÃ¡neamente
5. **AnÃ¡lisis Regional**: Todos los paÃ­ses de SudamÃ©rica

**Acciones:**
- ğŸ”„ **Actualizar Dashboard**: Recarga todos los grÃ¡ficos
- ğŸŒ **Comparar SudamÃ©rica**: AnÃ¡lisis regional rÃ¡pido
- ğŸ’¾ **Exportar Datos**: Descarga CSV del paÃ­s

---

## ğŸ“ˆ MÃ©tricas Disponibles

### **Casos**
- `new_cases` - Casos diarios reportados
- `total_cases` - Casos acumulados
- `new_cases_smoothed` - Promedio mÃ³vil 7 dÃ­as â­
- `total_cases_per_100k` - Normalizado por poblaciÃ³n

### **Muertes**
- `new_deaths` - Muertes diarias reportadas
- `total_deaths` - Muertes acumuladas
- `new_deaths_smoothed` - Promedio mÃ³vil 7 dÃ­as â­
- `total_deaths_per_100k` - Normalizado por poblaciÃ³n

### **VacunaciÃ³n**
- `people_vaccinated` - Personas con â‰¥1 dosis
- `people_fully_vaccinated` - Esquema completo
- `vaccination_rate` - Porcentaje de poblaciÃ³n

### **Calculadas**
- `mortality_rate` - Tasa de letalidad (%)
- Todas las mÃ©tricas `_per_100k` para comparaciÃ³n justa

---

## ğŸ”§ SoluciÃ³n de Problemas

### **Error: "API no conectada"**

```bash
# Verifica que la API estÃ© ejecutÃ¡ndose
python covid_api.py

# Prueba manualmente
curl http://127.0.0.1:8000/health
```

### **Error: "Datos no disponibles"**

```bash
# Ejecuta el pipeline primero
python etl_pipeline.py

# Verifica que exista el archivo
ls -lh processed_covid.csv.gz
```

### **Error: "ModuleNotFoundError"**

```bash
# Instala todas las dependencias
pip install -r requirements.txt

# O instala individualmente
pip install pandas numpy requests fastapi uvicorn dash plotly
```

### **Error: "Puerto ya en uso"**

```bash
# Para la API (puerto 8000)
# Windows
netstat -ano | findstr :8000
taskkill /PID <PID> /F

# Linux/Mac
lsof -ti:8000 | xargs kill -9

# Para el Dashboard (puerto 8050)
# Windows
netstat -ano | findstr :8050
taskkill /PID <PID> /F

# Linux/Mac
lsof -ti:8050 | xargs kill -9
```

### **Dashboard no muestra grÃ¡ficos**

1. Verifica que la API estÃ© ejecutÃ¡ndose
2. Abre la consola del navegador (F12)
3. Busca errores en la pestaÃ±a "Console"
4. Verifica la conexiÃ³n en: http://127.0.0.1:8000/health

---

## ğŸ¯ Casos de Uso Comunes

### **Caso 1: AnÃ¡lisis de Ecuador**
1. Abre el dashboard: http://127.0.0.1:8050
2. Ecuador ya estÃ¡ seleccionado por defecto
3. Observa las estadÃ­sticas superiores
4. Cambia entre mÃ©tricas para diferentes anÃ¡lisis

### **Caso 2: Comparar con paÃ­ses vecinos**
1. PaÃ­s Principal: "Ecuador"
2. Comparar con: "Colombia", "Peru"
3. Click en "Actualizar Dashboard"
4. Observa el grÃ¡fico de comparaciÃ³n

### **Caso 3: AnÃ¡lisis regional**
1. Click en "ğŸŒ Comparar SudamÃ©rica"
2. El grÃ¡fico regional se actualiza automÃ¡ticamente
3. Ecuador aparece destacado
4. Cambia la mÃ©trica para diferentes anÃ¡lisis

### **Caso 4: Exportar para anÃ¡lisis externo**
1. Selecciona el paÃ­s
2. Click en "ğŸ’¾ Exportar Datos"
3. Se descarga un CSV completo
4. Abre en Excel, Python, R, etc.

---

## ğŸ“Š Datos y Fuentes

**Fuente principal:** [Our World in Data](https://ourworldindata.org/coronavirus)

**Dataset:**
- 350,000+ registros
- 234 paÃ­ses con datos de calidad
- PerÃ­odo: 2020-01-01 hasta 2023-10-24
- ActualizaciÃ³n: Diaria (fuente)

**MÃ©tricas incluidas:**
- Casos y muertes (totales y nuevos)
- VacunaciÃ³n (dosis y tasas)
- HospitalizaciÃ³n (UCI y general)
- Tests y positividad
- Datos demogrÃ¡ficos
- Indicadores socioeconÃ³micos

---

## ğŸš€ Mejoras Futuras

### **Corto Plazo**
- [ ] Tests unitarios con pytest
- [ ] CI/CD con GitHub Actions
- [ ] Docker containerization
- [ ] Variables de entorno (.env)

### **Mediano Plazo**
- [ ] Base de datos PostgreSQL
- [ ] Cache distribuido con Redis
- [ ] AutenticaciÃ³n JWT
- [ ] Versionado de API

### **Largo Plazo**
- [ ] Modelos de predicciÃ³n ML
- [ ] Sistema de alertas
- [ ] WebSockets para updates en tiempo real
- [ ] VersiÃ³n mobile (React Native)

---

## ğŸ“ Licencia

Este proyecto utiliza datos de [Our World in Data](https://ourworldindata.org/), que estÃ¡n disponibles bajo la licencia [Creative Commons BY](https://creativecommons.org/licenses/by/4.0/).

---

## ğŸ‘¨â€ğŸ’» Autor

Proyecto desarrollado como sistema completo de anÃ¡lisis de datos COVID-19.

**Stack tecnol